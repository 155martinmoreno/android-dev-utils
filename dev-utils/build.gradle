import java.text.SimpleDateFormatapply plugin: 'com.android.library'def buildTime() {    def df = new SimpleDateFormat("yyMMddHHmm")    df.setTimeZone(TimeZone.getTimeZone("GMT-3"))    return df.format(new Date())}android {    signingConfigs {        debug {            keyAlias 'debug'            keyPassword 'qwerty'            storeFile file('../debug.keystore')            storePassword 'qwerty'        }    }    compileSdkVersion 22    buildToolsVersion "22.0.1"    defaultConfig {        // Fetch the version according to git latest tag and "how far are we from last tag"        def longVersionName = "git describe --tags --long".execute().text.trim()        def (gitTag, gitHowFar, gitSha) = longVersionName.tokenize('-')        //Looking for git tag like v0.1        def (versionMajor, versionMinor) = gitTag.tokenize('.')        versionMajor = versionMajor.subSequence(1, versionMajor.length())        minSdkVersion 8        targetSdkVersion 22        //noinspection GroovyAssignabilityCheck        versionCode versionMajor.toInteger() * 100000 + versionMinor.toInteger() * 10000        versionName "v$versionMajor.$versionMinor.$gitHowFar(${buildTime()})"    }    buildTypes {        release {            minifyEnabled false            shrinkResources false            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'            signingConfig signingConfigs.debug        }        debug {            signingConfig signingConfigs.debug        }        libraryVariants.all { variant ->            variant.outputs.each { output ->                output.outputFile = new File(output.outputFile.parent, output.outputFile.name.replace(".aar", "-" + defaultConfig.versionName + ".aar"))            }        }    }    compileOptions {        sourceCompatibility JavaVersion.VERSION_1_7        targetCompatibility JavaVersion.VERSION_1_7    }}dependencies {    compile fileTree(include: ['*.jar'], dir: 'libs')    compile 'com.android.support:support-annotations:20.0.0'    compile 'com.android.support:support-v4:22.0.0'}